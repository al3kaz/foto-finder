(this["webpackJsonpfoto-finder"]=this["webpackJsonpfoto-finder"]||[]).push([[0],{41:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(0),a=n(18),o=n.n(a),s=(n(41),n(3)),r=n(10),u=n(8),l="SET_PAGE",j=function(e){return{type:l,payload:e}},b=n(15),d=n.n(b),p=(n(60),Object(u.b)(null,(function(e){return{setPage:function(t){return e(j(t))}}}))(Object(s.g)((function(e){var t=e.history,n=e.setPage,a=new d.a({accessKey:"W_KPDO6kGppQIVNA8bvsJH3uwiwPe8Go0Bouij4qyqg"}),o=Object(i.useState)(""),s=Object(r.a)(o,2),u=s[0],l=s[1],j=Object(i.useState)(""),p=Object(r.a)(j,2),h=p[0],f=p[1];return Object(i.useEffect)((function(){u.length>=3?a.search.photos("".concat(u),1,30).then(b.toJson).then((function(e){if(e.results){var i=e.results.filter((function(e){return null!=e.description&&""!==e.description})).slice(0,5).map((function(e){return Object(c.jsxs)("div",{className:"suggest",onClick:function(){t.push("/".concat(e.description)),l(""),n(1)},children:[" ",e.description]},e.id)}));f(i.length>0?i:Object(c.jsx)("div",{children:"no seggestion"}))}})).catch((function(e){console.log(e)})):f([])}),[u]),Object(c.jsxs)("div",{className:"search-bar-container",children:[Object(c.jsx)("form",{className:"form-container",onSubmit:function(e){e.preventDefault(),l(""),n(1),""===u?alert("put some value"):t.push("/".concat(u))},children:Object(c.jsx)("input",{className:"input-style",placeholder:"/"===t.location.pathname?"Search":t.location.pathname.replace("/",""),type:"text",value:u,onChange:function(e){l(e.target.value)}})}),u.length>=3&&Object(c.jsx)("div",{className:"suggestions",children:h})]})})))),h=(n(62),function(){return Object(c.jsx)("div",{className:"home-page-container",children:Object(c.jsx)(p,{})})}),f="SET_PHOTOS",O=n(11),g=n(35),m=n(24),x=n(25);function v(){var e=Object(m.a)(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: white;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]);return v=function(){return e},e}function y(){var e=Object(m.a)(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return y=function(){return e},e}var N=x.a.div(y()),w=x.a.div(v()),P=function(e){return function(t){var n=t.isLoading,i=Object(g.a)(t,["isLoading"]);return n?Object(c.jsx)(N,{children:Object(c.jsx)(w,{})}):Object(c.jsx)(e,Object(O.a)({},i))}},k=(n(64),function(e){var t=e.urlSmall,n=e.urlBig,a=e.user,o=e.alt,s=e.description,u=e.location,l=Object(i.useState)(!1),j=Object(r.a)(l,2),b=j[0],d=j[1],p=function(){d(!b)};return Object(c.jsxs)("div",{className:"photo-container",children:[Object(c.jsx)("img",{className:"photo",src:t,alt:o,onClick:p}),b&&Object(c.jsxs)("dialog",{className:"dialog-container",open:!0,onClick:p,children:[Object(c.jsx)("img",{className:"dialog-container-img",src:n,alt:o}),Object(c.jsxs)("h3",{className:"dialog-container-title",children:["author: ",a]}),s?Object(c.jsx)("p",{className:"dialog-container-title",children:s}):null,u?Object(c.jsx)("p",{className:"dialog-container-title",children:u}):null]})]})}),S=(n(65),Object(u.b)((function(e){return{photos:e.photo.currentPhotos}}))((function(e){var t=e.photos.results.map((function(e){return Object(c.jsx)(k,{urlSmall:e.urls.small,urlBig:e.urls.regular,user:e.user.username,location:e.user.location,alt:e.alt_description,description:e.description},e.id)}));return Object(c.jsx)("div",{className:"photos-list-container",children:t})}))),C=(n(66),Object(u.b)((function(e){return{page:e.page.page}}),(function(e){return{setPhotos:function(t){return e(function(e){return{type:f,payload:e}}(t))},setPage:function(t){return e(j(t))}}}))(Object(s.g)((function(e){var t=e.setPhotos,n=e.page,a=e.setPage,o=new d.a({accessKey:"W_KPDO6kGppQIVNA8bvsJH3uwiwPe8Go0Bouij4qyqg"}),u=Object(s.f)().phrase,l=Object(i.useState)(!0),j=Object(r.a)(l,2),h=j[0],f=j[1],O=Object(i.useState)(null),g=Object(r.a)(O,2),m=g[0],x=g[1],v=P(S);Object(i.useEffect)((function(){o.search.photos("".concat(u),n,30).then(b.toJson).then((function(e){x(e.total_pages),t(e),f(!1)}))}),[u,n]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p,{}),Object(c.jsxs)("div",{div:!0,className:"pagination-container",children:[Object(c.jsx)("button",{disabled:n<=1,className:"page-button",onClick:function(){a(n-1)},children:"prev "}),Object(c.jsxs)("div",{className:"page-button",children:[n," of ",m]}),Object(c.jsx)("button",{disabled:m===n,className:"page-button",onClick:function(){a(n+1)},children:"next "})]}),Object(c.jsx)(v,{isLoading:h})]})})))),B=function(){return Object(c.jsx)("div",{className:"search-overview",children:Object(c.jsx)(C,{})})};n(67);var E=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(s.c,{children:[Object(c.jsx)(s.a,{exact:!0,path:"/",component:h}),Object(c.jsx)(s.a,{exact:!0,path:"/:phrase",component:B})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))},_=n(17),F=n(13),G=n(34),L=n.n(G),T={currentPhotos:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(O.a)(Object(O.a)({},e),{},{currentPhotos:t.payload});default:return e}},A={page:1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(O.a)(Object(O.a)({},e),{},{page:t.payload});default:return e}},I=Object(F.c)({photo:q,page:D}),K=[L.a],H=Object(F.d)(I,F.a.apply(void 0,K));o.a.render(Object(c.jsx)(u.a,{store:H,children:Object(c.jsx)(_.a,{basename:"/foto-finder",children:Object(c.jsx)(E,{})})}),document.getElementById("root")),J()}},[[68,1,2]]]);
//# sourceMappingURL=main.616ead81.chunk.js.map